(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{E3cr:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J"),o=u("s7LF"),i=function(){function l(l,n,u){this.fb=l,this.taskService=n,this.toastr=u,this.tasks=[]}return l.prototype.ngOnInit=function(){this.task=null,this.submitBtn="Add new task",this.page=1,this.limit=10,this.getAllTask(),this.buildForm()},l.prototype.getAllTask=function(){var l=this;this.loading=!0,this.taskService.getAllTasks(this.page,this.limit).then((function(n){l.tasks=n.docs,l.total=n.total,l.page=n.page,l.limit=n.limit,l.pages=n.pages,l.loading=!1})).catch(console.log)},l.prototype.getTask=function(l){if("next"==l){if(this.page>=this.pages)return;this.page=this.page+1}else{if(1==this.page)return;this.page=this.page-1}this.getAllTask()},l.prototype.onSubmit=function(){var l=this;this.task?(this.todoForm.value.id=this.task.id,this.taskService.updateTask(this.todoForm.value).then((function(){l.page=1,l.limit=10,l.getAllTask(),l.todoForm.reset(),l.submitBtn="Add new task",l.task=null,l.toastr.success("Task is updated")})).catch((function(l){console.log(l)}))):this.taskService.addNewTask(this.todoForm.value).then((function(){l.page=1,l.limit=10,l.getAllTask(),l.todoForm.reset(),l.toastr.success("New task is created")})).catch((function(l){console.log(l)}))},l.prototype.buildForm=function(){this.todoForm=this.fb.group({title:["",[o.o.required]],description:["",[o.o.required]]})},l.prototype.editTask=function(l){this.task=l,this.todoForm.reset(l),this.submitBtn="Update Task",window.scrollTo(0,0)},l.prototype.deleteTask=function(l){var n=this;this.taskService.deleteTask(l).then((function(){n.toastr.info("Task is deleted"),n.getAllTask()})).catch(console.log)},l}(),e=function(){},s=u("pMnS"),a=u("SVse"),c=u("ev4g"),r=u("EApP"),b=t.ob({encapsulation:0,styles:[[".task-component[_ngcontent-%COMP%]{width:100%}.task-component[_ngcontent-%COMP%]   .ng-valid.required[_ngcontent-%COMP%], .task-component[_ngcontent-%COMP%]   .ng-valid[required][_ngcontent-%COMP%]{border-left:5px solid #42a948}.task-component[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}.task-component[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center;padding:10px}.task-component[_ngcontent-%COMP%]   .todo-form[_ngcontent-%COMP%]{min-height:225px;box-shadow:1px 1px 1px 1px #ccc;padding:20px;margin-bottom:10px}.task-component[_ngcontent-%COMP%]   .todo-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{float:right}.task-component[_ngcontent-%COMP%]   .todo-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}.task-component[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin:10px;text-align:center}.task-component[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .task-number[_ngcontent-%COMP%]{border:1px solid #cecece;padding:10px;font-size:20px}.task-component[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:10px}.task-component[_ngcontent-%COMP%]   .todo-list[_ngcontent-%COMP%]{padding:10px;margin-bottom:10px;box-shadow:1px 1px 1px 1px #ccc}.task-component[_ngcontent-%COMP%]   .todo-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.task-component[_ngcontent-%COMP%]   .todo-list[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{padding:5px;font-size:20px;cursor:pointer}.task-component[_ngcontent-%COMP%]   .todo-list[_ngcontent-%COMP%]   .fa-trash[_ngcontent-%COMP%]{color:red}"]],data:{}});function p(l){return t.Ib(0,[(l()(),t.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Gb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.component.page)}))}function g(l){return t.Ib(0,[(l()(),t.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Gb(1,null,[" ",""]))],null,(function(l,n){var u=n.component;l(n,1,0,(u.page-1)*u.limit)}))}function d(l){return t.Ib(0,[(l()(),t.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Gb(1,null,[" ",""]))],null,(function(l,n){var u=n.component;l(n,1,0,u.page*u.limit)}))}function m(l){return t.Ib(0,[(l()(),t.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Gb(1,null,[" ",""]))],null,(function(l,n){var u=n.component;l(n,1,0,(u.page-1)*u.limit+u.tasks.length)}))}function f(l){return t.Ib(0,[(l()(),t.qb(0,0,null,null,11,"div",[["class","task-number"]],null,null,null,null,null)),(l()(),t.Gb(-1,null,[" showing "])),(l()(),t.fb(16777216,null,null,1,null,p)),t.pb(3,16384,null,0,a.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.fb(16777216,null,null,1,null,g)),t.pb(5,16384,null,0,a.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.Gb(-1,null,[" - "])),(l()(),t.fb(16777216,null,null,1,null,d)),t.pb(8,16384,null,0,a.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.fb(16777216,null,null,1,null,m)),t.pb(10,16384,null,0,a.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.Gb(11,null,[" of "," "]))],(function(l,n){var u=n.component;l(n,3,0,1===u.page),l(n,5,0,u.page>1),l(n,8,0,u.tasks.length===u.limit),l(n,10,0,u.limit>u.tasks.length)}),(function(l,n){l(n,11,0,n.component.total)}))}function h(l){return t.Ib(0,[(l()(),t.qb(0,0,null,null,1,"div",[["class","task-number"]],null,null,null,null,null)),(l()(),t.Gb(-1,null,[" loading... "]))],null,null)}function k(l){return t.Ib(0,[(l()(),t.qb(0,0,null,null,11,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,2,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t.qb(2,0,null,null,1,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.getTask("prev")&&t),t}),null,null)),(l()(),t.Gb(-1,null,[" << "])),(l()(),t.qb(4,0,null,null,4,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t.fb(16777216,null,null,1,null,f)),t.pb(6,16384,null,0,a.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.fb(16777216,null,null,1,null,h)),t.pb(8,16384,null,0,a.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.qb(9,0,null,null,2,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t.qb(10,0,null,null,1,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.getTask("next")&&t),t}),null,null)),(l()(),t.Gb(-1,null,[" >> "]))],(function(l,n){var u=n.component;l(n,6,0,!u.loading),l(n,8,0,u.loading)}),(function(l,n){var u=n.component;l(n,2,0,1===u.page),l(n,10,0,u.pages===u.page)}))}function v(l){return t.Ib(0,[(l()(),t.qb(0,0,null,null,1,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t.Gb(-1,null,[" No task found "]))],null,null)}function C(l){return t.Ib(0,[(l()(),t.qb(0,0,null,null,8,"div",[["class","col-md-12 todo-list"]],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,4,"div",[["class","col-md-11"]],null,null,null,null,null)),(l()(),t.qb(2,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),t.Gb(3,null,["",""])),(l()(),t.qb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Gb(5,null,["",""])),(l()(),t.qb(6,0,null,null,2,"div",[["class","col-md-1"]],null,null,null,null,null)),(l()(),t.qb(7,0,null,null,0,"i",[["class","fa fa-pencil"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.editTask(l.context.$implicit)&&t),t}),null,null)),(l()(),t.qb(8,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.deleteTask(l.context.$implicit.id)&&t),t}),null,null))],null,(function(l,n){l(n,3,0,n.context.$implicit.title),l(n,5,0,n.context.$implicit.description)}))}function q(l){return t.Ib(0,[(l()(),t.qb(0,0,null,null,42,"div",[["class","task-component"]],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,41,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.qb(2,0,null,null,1,"h1",[["class","center"]],null,null,null,null,null)),(l()(),t.Gb(-1,null,["My TODO List"])),(l()(),t.qb(4,0,null,null,30,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.qb(5,0,null,null,29,"div",[["class","col-md-12 todo-form"]],null,null,null,null,null)),(l()(),t.qb(6,0,null,null,28,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,u){var o=!0,i=l.component;return"submit"===n&&(o=!1!==t.Ab(l,8).onSubmit(u)&&o),"reset"===n&&(o=!1!==t.Ab(l,8).onReset()&&o),"ngSubmit"===n&&(o=!1!==i.onSubmit()&&o),o}),null,null)),t.pb(7,16384,null,0,o.s,[],null,null),t.pb(8,540672,null,0,o.f,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Eb(2048,null,o.b,null,[o.f]),t.pb(10,16384,null,0,o.l,[[4,o.b]],null,null),(l()(),t.qb(11,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.qb(12,0,null,null,1,"label",[["for","title"]],null,null,null,null,null)),(l()(),t.Gb(-1,null,["Title"])),(l()(),t.qb(14,0,null,null,7,"input",[["class","form-control"],["formControlName","title"],["name","title"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var o=!0;return"input"===n&&(o=!1!==t.Ab(l,15)._handleInput(u.target.value)&&o),"blur"===n&&(o=!1!==t.Ab(l,15).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Ab(l,15)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Ab(l,15)._compositionEnd(u.target.value)&&o),o}),null,null)),t.pb(15,16384,null,0,o.c,[t.C,t.k,[2,o.a]],null,null),t.pb(16,16384,null,0,o.n,[],{required:[0,"required"]},null),t.Eb(1024,null,o.h,(function(l){return[l]}),[o.n]),t.Eb(1024,null,o.i,(function(l){return[l]}),[o.c]),t.pb(19,671744,null,0,o.e,[[3,o.b],[6,o.h],[8,null],[6,o.i],[2,o.r]],{name:[0,"name"]},null),t.Eb(2048,null,o.j,null,[o.e]),t.pb(21,16384,null,0,o.k,[[4,o.j]],null,null),(l()(),t.qb(22,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.qb(23,0,null,null,1,"label",[["for","description"]],null,null,null,null,null)),(l()(),t.Gb(-1,null,["Description"])),(l()(),t.qb(25,0,null,null,7,"textarea",[["class","form-control"],["cols","6"],["formControlName","description"],["name","description"],["required",""],["rows","4"],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var o=!0;return"input"===n&&(o=!1!==t.Ab(l,26)._handleInput(u.target.value)&&o),"blur"===n&&(o=!1!==t.Ab(l,26).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Ab(l,26)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Ab(l,26)._compositionEnd(u.target.value)&&o),o}),null,null)),t.pb(26,16384,null,0,o.c,[t.C,t.k,[2,o.a]],null,null),t.pb(27,16384,null,0,o.n,[],{required:[0,"required"]},null),t.Eb(1024,null,o.h,(function(l){return[l]}),[o.n]),t.Eb(1024,null,o.i,(function(l){return[l]}),[o.c]),t.pb(30,671744,null,0,o.e,[[3,o.b],[6,o.h],[8,null],[6,o.i],[2,o.r]],{name:[0,"name"]},null),t.Eb(2048,null,o.j,null,[o.e]),t.pb(32,16384,null,0,o.k,[[4,o.j]],null,null),(l()(),t.qb(33,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t.Gb(34,null,["",""])),(l()(),t.qb(35,0,null,null,4,"div",[["class","row info"]],null,null,null,null,null)),(l()(),t.fb(16777216,null,null,1,null,k)),t.pb(37,16384,null,0,a.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.fb(16777216,null,null,1,null,v)),t.pb(39,16384,null,0,a.i,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.qb(40,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.fb(16777216,null,null,1,null,C)),t.pb(42,278528,null,0,a.h,[t.N,t.K,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var u=n.component;l(n,8,0,u.todoForm),l(n,16,0,""),l(n,19,0,"title"),l(n,27,0,""),l(n,30,0,"description"),l(n,37,0,u.tasks.length>0),l(n,39,0,u.tasks&&0===u.tasks.length&&!u.loading),l(n,42,0,u.tasks)}),(function(l,n){var u=n.component;l(n,6,0,t.Ab(n,10).ngClassUntouched,t.Ab(n,10).ngClassTouched,t.Ab(n,10).ngClassPristine,t.Ab(n,10).ngClassDirty,t.Ab(n,10).ngClassValid,t.Ab(n,10).ngClassInvalid,t.Ab(n,10).ngClassPending),l(n,14,0,t.Ab(n,16).required?"":null,t.Ab(n,21).ngClassUntouched,t.Ab(n,21).ngClassTouched,t.Ab(n,21).ngClassPristine,t.Ab(n,21).ngClassDirty,t.Ab(n,21).ngClassValid,t.Ab(n,21).ngClassInvalid,t.Ab(n,21).ngClassPending),l(n,25,0,t.Ab(n,27).required?"":null,t.Ab(n,32).ngClassUntouched,t.Ab(n,32).ngClassTouched,t.Ab(n,32).ngClassPristine,t.Ab(n,32).ngClassDirty,t.Ab(n,32).ngClassValid,t.Ab(n,32).ngClassInvalid,t.Ab(n,32).ngClassPending),l(n,33,0,u.todoForm.invalid),l(n,34,0,u.submitBtn)}))}var A=t.mb("app-task",i,(function(l){return t.Ib(0,[(l()(),t.qb(0,0,null,null,1,"app-task",[],null,null,null,q,b)),t.pb(1,114688,null,0,i,[o.d,c.a,r.j],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),P=u("iInd");u.d(n,"TaskModuleNgFactory",(function(){return _}));var _=t.nb(e,[],(function(l){return t.yb([t.zb(512,t.j,t.Y,[[8,[s.a,A]],[3,t.j],t.w]),t.zb(4608,a.k,a.j,[t.t,[2,a.s]]),t.zb(4608,o.d,o.d,[]),t.zb(4608,o.q,o.q,[]),t.zb(1073742336,a.b,a.b,[]),t.zb(1073742336,P.m,P.m,[[2,P.r],[2,P.k]]),t.zb(1073742336,o.p,o.p,[]),t.zb(1073742336,o.m,o.m,[]),t.zb(1073742336,e,e,[]),t.zb(1024,P.i,(function(){return[[{path:"",component:i}]]}),[])])}))}}]);